<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Insurance Cost Prediction</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='index.css') }}"
    />
    <style>
      /* Hide the spinner for number inputs */
      input[type="number"] {
        -moz-appearance: textfield; /* Firefox */
      }

      input[type="number"]::-webkit-inner-spin-button,
      input[type="number"]::-webkit-outer-spin-button {
        -webkit-appearance: none; /* Chrome, Safari, Edge */
        margin: 0; /* Prevent default margin */
      }
    </style>
    <script>
      function calculateBMI() {
        const weight = parseFloat(
          document.querySelector('input[name="weight"]').value
        );
        const height = parseFloat(
          document.querySelector('input[name="height"]').value
        );

        if (weight > 0 && height > 0) {
          const bmi = (weight / (height * height)).toFixed(2);
          document.querySelector('input[name="bmi"]').value = bmi; // Store the calculated BMI
        } else {
          alert("Please enter valid weight and height.");
        }
      }
    </script>
  </head>
  <body>
    <div class="container">
      <h1>Insurance Cost Prediction</h1>
      <form action="/predict" method="POST" onsubmit="calculateBMI();">
        <label for="age">Age:</label>
        <input
          placeholder="Please Enter your age"
          type="number"
          name="age"
          required
        />

        <label for="sex">Sex:</label>
        <input
          placeholder="1 for Male, 0 for Female"
          type="number"
          name="sex"
          required
        />

        <label for="weight">Weight (kg):</label>
        <input
          placeholder="Enter your weight in kg"
          type="number"
          name="weight"
          required
        />

        <label for="height">Height (m):</label>
        <input
          placeholder="Enter your height in meters"
          type="number"
          step="0.01"
          name="height"
          required
        />

        <input type="hidden" name="bmi" />
        <!-- Hidden input for BMI -->

        <label for="children">Number of Children:</label>
        <input
          placeholder="Enter number of children (0 if none)"
          type="number"
          name="children"
          required
        />

        <label for="smoker">Smoker:</label>
        <input
          placeholder="1 if you smoke, 0 if not"
          type="number"
          name="smoker"
          required
        />

        <label for="region">Region:</label>
        <input
          placeholder="0: Southeast, 1: Southwest, 2: Northeast, 3: Northwest"
          type="number"
          name="region"
          required
        />

        <input type="submit" value="Predict" class="submit-button" />
      </form>
    </div>
  </body>
</html>
